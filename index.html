<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Light of Islam — Prayer, Qibla, Hadith & Articles</title>
<link href="https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Inter:wght@400;700&display=swap" rel="stylesheet">

<style>
:root{
  --green:#0b5a3a; --gold:#c8a44c; --bg:#f8fbf9; --muted:#4f6b5e; --card:#ffffff; --maxw:1100px;
  --radius:12px;
}
*{box-sizing:border-box}
body{margin:0;font-family: 'Inter', sans-serif; background:#f0f4f1; color:#062f21}

/* --- Navigation --- */
.header{ background: #fff; border-bottom: 2px solid var(--gold); position: sticky; top:0; z-index: 1000;}
.navbar { max-width: var(--maxw); margin: 0 auto; display: flex; align-items: center; justify-content: space-between; padding: 10px 16px; }
.logo-container { display: flex; align-items: center; gap: 10px; }
.logo-img { width: 50px; height: 50px; border-radius: 50%; border: 2px solid var(--gold); }

.nav-links a { text-decoration: none; color: var(--green); font-weight: 700; margin-left: 15px; font-size: 14px; }
.nav-links a:hover { color: var(--gold); }

/* --- Quran Section --- */
.quran-daily { background: var(--green); color: #fff; padding: 30px 16px; text-align: center; border-radius: var(--radius); margin-bottom: 20px; }
.quran-text { font-family: 'Playfair Display', serif; font-size: 22px; font-style: italic; }
.quran-ref { margin-top: 10px; color: var(--gold); font-size: 14px; }

/* --- General Grid --- */
.container{max-width:var(--maxw);margin:16px auto;padding:0 16px}
.card{background:var(--card);border-radius:var(--radius);padding:20px;box-shadow:0 4px 15px rgba(0,0,0,0.05); margin-bottom: 20px;}
.section-title { font-size: 20px; color: var(--green); border-bottom: 2px solid var(--gold); display: inline-block; margin-bottom: 15px; }

/* --- Worker Section --- */
.worker-box { background: #e8f5e9; border: 2px dashed var(--green); padding: 20px; text-align: center; border-radius: var(--radius); }
.ad-btn { background: var(--gold); color: #000; padding: 15px 30px; border: none; border-radius: 8px; font-weight: bold; cursor: pointer; font-size: 18px; transition: 0.3s; }
.ad-btn:hover { background: #b08d3a; transform: scale(1.05); }

/* --- Footer --- */
.footer { background: var(--green); color: #fff; padding: 20px; text-align: center; margin-top: 40px; }
</style>
</head>

<body>

  <header class="header">
    <div class="navbar">
      <div class="logo-container">
        <img src="images/logo.png" alt="Light of Islam" class="logo-img" onerror="this.src='https://i.ibb.co/dkFJh7q/Light-of-Islam-Logo.png'">
        <div class="brand">
          <h1 style="margin:0; font-size: 20px; color: var(--green);">Light of Islam</h1>
        </div>
      </div>
      <nav class="nav-links">
        <a href="#home">Home</a>
        <a href="#articles">Articles</a>
        <a href="#worker-zone" style="color:red;">Worker Zone</a>
        <button id="loginBtn" class="ad-btn" style="padding: 5px 15px; font-size: 12px; margin-left: 10px;">Login</button>
      </nav>
    </div>
  </header>

  <div class="container">
    
    <section class="quran-daily">
        <div id="quran-ar" class="quran-text">Loading Quranic Verse...</div>
        <div id="quran-en" style="margin-top:10px; opacity: 0.9;"></div>
        <div id="quran-ref" class="quran-ref"></div>
    </section>

    <div style="display: grid; grid-template-columns: 1fr 300px; gap: 20px;">
        
        <main>
            <section id="worker-zone" class="card">
                <h2 class="section-title">Worker Earning Zone</h2>
                <div class="worker-box">
                    <p>Welcome! Click the button below to complete your daily task.</p>
                    <p id="click-status" class="small">Daily Clicks: 0/2</p>
                    <button class="ad-btn" onclick="handleAdClick()">CLICK HERE FOR ADS</button>
                    <p style="font-size: 11px; margin-top: 10px; color: var(--muted);">*Must be logged in to count clicks.</p>
                </div>
            </section>

            <section id="articles" class="card">
                <h2 class="section-title">Islamic Articles</h2>
                <div id="articlesGrid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 15px;">
                    </div>
            </section>
        </main>

        <aside>
            <div class="card">
                <h3 class="section-title">Prayer Times</h3>
                <div id="prayer-list">
                    <p>Fajr: <span id="tFajr">--:--</span></p>
                    <p>Dhuhr: <span id="tDhuhr">--:--</span></p>
                    <p>Asr: <span id="tAsr">--:--</span></p>
                    <p>Maghrib: <span id="tMaghrib">--:--</span></p>
                    <p>Isha: <span id="tIsha">--:--</span></p>
                </div>
            </div>
            
            <div class="card">
                <h3 class="section-title">Hadith of the Day</h3>
                <p id="hadithBox" style="font-style: italic; color: var(--muted);">Loading Hadith...</p>
            </div>
        </aside>
    </div>

  </div>

  <footer class="footer">
    <p>© 2024 Light of Islam • Managed by Shane Muhammad Baqer</p>
  </footer>

<script>
/* 1. AUTO QURAN VERSE API */
async function fetchQuran() {
    try {
        const randomAyat = Math.floor(Math.random() * 6236) + 1;
        const res = await fetch(`https://api.alquran.cloud/v1/ayah/${randomAyat}/editions/quran-uthmani,en.sahih`);
        const data = await res.json();
        document.getElementById('quran-ar').innerText = data.data[0].text;
        document.getElementById('quran-en').innerText = data.data[1].text;
        document.getElementById('quran-ref').innerText = `Surah ${data.data[0].surah.englishName} (${data.data[0].surah.number}:${data.data[0].numberInSurah})`;
    } catch (e) {
        document.getElementById('quran-ar').innerText = "Bismillahir Rahmanir Rahim";
    }
}

/* 2. PRAYER TIMES AUTO LOAD (Dhaka as Default) */
async function loadPrayers() {
    const res = await fetch('https://api.aladhan.com/v1/timingsByCity?city=Dhaka&country=Bangladesh&method=2');
    const data = await res.json();
    const t = data.data.timings;
    document.getElementById('tFajr').innerText = t.Fajr;
    document.getElementById('tDhuhr').innerText = t.Dhuhr;
    document.getElementById('tAsr').innerText = t.Asr;
    document.getElementById('tMaghrib').innerText = t.Maghrib;
    document.getElementById('tIsha').innerText = t.Isha;
}

/* 3. WORKER CLICK TRACKING */
let dailyClicks = 0;
function handleAdClick() {
    const user = localStorage.getItem('loi_current_user');
    if(!user) {
        alert("Please Login first to count your clicks!");
        return;
    }
    
    if(dailyClicks >= 2) {
        alert("You have reached your daily limit of 2 clicks!");
        return;
    }

    dailyClicks++;
    document.getElementById('click-status').innerText = `Daily Clicks: ${dailyClicks}/2`;
    
    // Yekhane Ad link open hobe
    window.open('https://your-ad-link.com', '_blank');

    // Future-e Firebase code ekhane thakbe jate database-e count save hoy
    console.log(`Click registered for: ${user}`);
}

/* 4. HADITH OF THE DAY (Static fallback) */
const hadiths = ["The best among you are those who learn the Quran and teach it.", "Purity is half of faith.", "Kindness is a mark of faith."];
document.getElementById('hadithBox').innerText = hadiths[Math.floor(Math.random()*hadiths.length)];

// Initialize
fetchQuran();
loadPrayers();
</script>

</body>
</html>
